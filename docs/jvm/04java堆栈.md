## JAVA堆栈
#### 堆heap
>存的是：数组和对象（数组就是对象），实体，GC，程序员分配释放，二级缓存；  
堆的物理地址分配是不连续，性能慢；  
分配的内存在运行期确认，大小不固定；  
堆存放对象的实例和数组；  
堆对于整个应用程序都是共享可见的。

#### 栈stack
>存的是：局部变量，生命周期短，自动分配释放，使用的是一级缓存，先进后出；  
栈的物理地址分配是连续的，性能快；  
分配的内存大小在编译期确认，大小固定；  
栈存放局部变量、操作数栈、返回结果等；  
栈只对于线程是可见的。‍


## 深克隆和浅克隆

浅克隆：

创建一个新对象，新对象的属性和原来对象完全相同，对于非基本类型属性，仍指向原有属性所指向的对象的内存地址。

深克隆：

创建一个新对象，属性中引用的其他对象也会被克隆，不再指向原有对象地址。

总之深浅克隆都会在堆中新分配一块区域，区别在于对象属性引用的对象是否需要进行克隆（递归性的）。


## 强引用、软引用、弱引用、虚引用

- 强引用(Strongly Reference)----指代码中普遍存在的赋值行为，如：Object o = new Object()，只要强引用关系还在，对象就永远不会被回收。

- 软引用(Soft Reference)还有用处，但是非必须存活的对象，JVM会在内存溢出前对其进行回收，例如：缓存。内存不足情况下被GC。

- 弱引用(Weak Reference)非必须存活的对象，引用关系比软引用还弱，不管内存是否够用，下次GC一定回收。不管内存充足与否都会被GC。

- 虚引用(Phantom Reference)也称“幽灵引用”、“幻影引用”，最弱的引用关系，完全不影响对象的回收，等同于没有引用，虚引用的唯一的目的是对象被回收时会收到一个系统通知。虚引用目的在于提前了解某对象需要被回收。