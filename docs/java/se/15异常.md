---
lang: zh-CN
title: 异常
description: se 15
---


# 异常Throwable(类)

是Java语言中所有错误(errors)和异常(exceptions)类的直接父类或者是间接父类

- Error错误

  无法通过处理，只能事先避免

  - 内存溢出

  - 系统崩溃

- Exception异常

  程序员可以通过代码纠正

  - 编译时期异常checked

    eg.语法不规范

  - 运行时期异常runtme

	eg.角标越界，空指针

### 异常

开发中异常:程序在编译期间或者运行期间发生错误
A.程序在编译期间发生错误
B.程序在运行期间发生错误
C.项目中实际的需求与代码执行的顺序不匹配的时候


### 自定义异常
A.定义一个类 继承 Execption
B.调用父类构造方法


### 异常处理

1. throw抛出

  ⽤在⽅法内，⽤来抛出⼀个异常对象，将这个异常对象传递到调⽤者处，并结束当前⽅法的执⾏。

2. try-catch捕获

  try执行可能产生异常的代码

  catch捕获异常

3. throws声明

  将问题标识出来，报告给调⽤者。表示当前⽅法不处理异常,⽽是提醒该⽅法的调⽤者来处理异常(抛出异常)。

4. finally

  无论是否发生异常，都会执行


#### jvm处理异常的方式

A.某段代码发生了异常
B.将异常的信息封装到 Throwable中
C.将异常抛给调用
D.一层一层往上抛
E.如果调用者都不处理异常 就由jvm来处理异常
F.jvm处理异常
a.在控制台打印异常信息(堆栈信息)  b.终止程序的运行

### 异常处理

ctrl + shift + t

#### 捕获-try-catch

1.语法：
try{
可能发生异常的代码
}catch(异常类型声明) {
发生异常处理方式
}
2.单词翻译: try ==>尝试    catch 抓取 捕捉
3.解释:
A.try中的代码  ==>try中是可能产生异常的代码
B.catch小括号后是异常类型的声明  异常类型必须是 Throwable的子类
C.catch大括号中 发生异常的处理方式 a.收集异常的信息(日志信息)  b.编写代码 处理异常
4.执行流程
A.执行try中的代码
B.如果不发生异常  不会执行catch中代码 正常执行下面的代码
C.如果发生异常
a.如果发生的异常与声明的异常可以匹配   则执行catch中代码 再正常执行下面代码
b.如果发生的异常与声明的异常不可以匹配 则由jvm来处理异常: a.打印堆栈信息  b.终止程序
注意点
a.匹配:发生的异常是声明异常的本身或者是其子类



#### 捕获-try-catch-catch

1.语法:
try{
可能发生异常代码
}catch(异常类型声明) {
发生异常处理方式
}catch(异常类型声明){
发生异常处理方式
}
2.执行流程
A.执行try中代码
B.如果不发生异常 则执行后面的代码
C.如果发生异常
a.发生的异常 依次与catch中异常类型进行匹配 如果可以匹配 则执行对应catch中代码
b.发生的异常与catch异常类型不匹配 则由 jvm来处理异常
1)打印堆栈信息  2)终止程序
3.说明:
A.多个异常类型声明的时候 是由小的范围到大的范围
B.声明异常类型的范围越小越好 容易帮助解决问题
C.在jdk1.7之后 声明多个异常 可以使用|来连接多个异常





#### 捕获-try-catch-finally

1.语法:
try{
可能发生异常代码
}catch(异常类型的声明){
异常处理方式
} finally{
最后执行的代码
}
2.单词翻译:finally 最终 最后
3.执行流程
A.执行try中代码  如果没有发生异常  执行finally中代码  再执行下面代码
B.如果发生了异常
a.如果发生的异常与声明的异常可以匹配 执行 catch中代码 再执行finally中代码
b.如果发生的异常与声明的异常不可以匹配 执行finally中代码
异常由jvm来处理   1)打印堆栈信息  2)终止程序
4.说明
A.不管是否发生异常都是执行finally中代码
B.遇到return 关键字 会先执行finally中代码 再执行return
C.杀死jvmjava虚拟机 才不执行finally中代码
D.释放资源



#### 捕获- try- finally

1.语法:
try{
可能发生异常代码

}finally{
最终执行代码
}
2.执行流程
A.执行try中的代码
B.执行finally代码
3.说明
A.主要是将try与finally中的代码进行分离 代码清晰结构度高
B. 发生异常 还是由jvm来进行处理



#### Throws

1.Throws 声明异常
2.使用场景:在方法中 方法中的代码可能发生异常 但是不想自身来进行处理 就可以声明异常 抛出 由调用者处理
3.语法:
访问修饰符  返回值类型 方法名称(参数列表) throws  异常类型{
方法体
return 返回值
}
4.说明
A.声明异常的范围越小越好
B.如果声明的异常是运行时异常本身或者是其子类的时候 调用者可能不进行处理
C.如果声明的异常不是运行时异常本身或者是其子类的时候 调用必修处理



#### Throw

1.Throw 抛出异常
2.语法:
访问修饰符  返回值类型 方法名称(参数列表){
throw  new 异常类型()
}
3.说明
A.抛出的异常是运行时异常以及其子类的时候 调用者不需要进行处理
B.抛出的异常不是运行时异常以及其子类的时候 调用者必须进行处理
C.在一个作用域中只能抛出一个异常
D.Throw 一般与Throws搭配使用



#### Throw与 Throws 比较

|Throw|Throws|
|-|-|
|抛出异常|声明异常|
|在方法体中|在方法参数列表后|
|作用域下只能抛出一个异常|声明多个异常|
|异常确实存在,确实可能发生这个异常|异常不一定存在 ,异常并不一定会发生|


### 常见异常

NullPointerException 空指针异常
ArithmeticException数学运算异常 eg."除以0"
ArrayIndexOutOfBoundsException 数组下标越界异常
ClassCastException类型转换异常
NumberFormatException数字格式不正确异常

- throws关键字 调用一个抛出异常的方法
- try-catch 自己处理异常 ctrl + alt + t

- **try**
    - 用于监听，异常捕获。将要被监听的代码(可能抛出异常的代码)放在try语句块之内，当try语句块内发生异常时，异常就被抛出。
    - 它一般与catch，finally组合使用块，catch可以出现0次、1次或多次，finally可以出现0次或1次，但是catch和finally不能同时不出现。